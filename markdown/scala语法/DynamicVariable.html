<h1 id="DynamicVariable-in-Scala"><a href="#DynamicVariable-in-Scala" class="headerlink" title="DynamicVariable in Scala"></a>DynamicVariable in Scala</h1><p>该类位于<code>scala.util.DynamicVariable</code>包中，他提供了一种动他的绑定机制，当前变量的值是通过动态绑定来进行查找的。</p>
<p>获取当前的值可以通过<code>value</code>方法来进行获取。</p>
<p>通过<code>withvalue</code>的方法来设置新的值，方法的第二个参数，相当于一个无参数的闭包，仅仅在执行的时候有效，当执行完毕之后，将返回原来的值，类似一个栈结构。</p>
<pre><code class="scala">val hello = new DynamicVariable[String](&quot;hello&quot;)
print(hello.value)  //打印hello
print(hello)  //打印hello

hello.withvalue(&quot;world&quot;){
  print(hello)  //打印world
}

print(hello)  //打印hello</code></pre>
<p>在<code>withvalue</code>里面相当于创建了一个新的线程，该线程从<code>DynamicVariable</code>中取出新的值，之后该值就与父线程无关了。</p>
